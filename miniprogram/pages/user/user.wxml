<view class="container">
  
  <view class="header">
    <image class="avatar" src="{{userInfo.avatarUrl || '../../images/icons/avatar.png'}}" mode="aspectFill"></image>
    <view class="info">
      <text class="nickname">{{userInfo.nickName || '点击登录'}}</text>
      <view class="badge {{isVip ? 'vip-badge' : 'normal-badge'}}">
        <text wx:if="{{isVip}}" style="margin-right: 6rpx;">👑</text>
        <text>{{isVip ? '尊贵VIP会员' : '普通用户'}}</text>
      </view>
    </view>
  </view>

  <view class="vip-card">
    <view class="card-bg-circle"></view>
    <view class="card-content">
      <view class="card-left">
        <text class="card-title">开通专业版会员</text>
        <text class="card-desc">解锁精准用药处方 · 专家通道</text>
      </view>
      <button class="buy-btn" bindtap="onBuyVip" wx:if="{{!isVip}}">立即开通</button>
      <button class="buy-btn disabled" wx:else>已开通</button>
    </view>
  </view>

  <view class="stats-row">
    <view class="stat-item">
      <text class="num">{{userData.diagnosisCount || 0}}</text>
      <text class="label">诊断次数</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="num">{{userData.points || 0}}</text>
      <text class="label">我的积分</text>
    </view>
  </view>

  <view class="menu-list">
    
    <view class="menu-item" bindtap="goOrchard">
      <view class="menu-left">
        <text class="menu-icon">🏡</text>
        <text class="menu-text">我的果园托管</text>
      </view>
      <text class="arrow">›</text>
    </view>

    <view class="menu-item" bindtap="goHistory">
      <view class="menu-left">
        <text class="menu-icon">📝</text>
        <text class="menu-text">诊断历史记录</text>
      </view>
      <text class="arrow">›</text>
    </view>

    <view class="menu-item" bindtap="goMyPrescription">
      <view class="menu-left">
        <text class="menu-icon">💊</text>
        <text class="menu-text">我的专属药方</text>
      </view>
      <text class="lock-icon" wx:if="{{!isVip}}">🔒</text>
      <text class="arrow" wx:else>›</text>
    </view>

    <view class="menu-item" bindtap="contactSupport">
      <view class="menu-left">
        <text class="menu-icon">🎧</text>
        <text class="menu-text">联系客服</text>
      </view>
      <text class="arrow">›</text>
    </view>
    
    <view class="menu-item last" bindtap="aboutUs">
      <view class="menu-left">
        <text class="menu-icon">ℹ️</text>
        <text class="menu-text">关于我们</text>
      </view>
      <text class="arrow">›</text>
    </view>
  </view>

</view>