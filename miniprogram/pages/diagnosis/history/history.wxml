<view class="page">
  <view class="header">
    <text class="header-title">è¯Šæ–­å†å²</text>
    <button class="header-btn" bindtap="clearAll" wx:if="{{records.length > 0}}">æ¸…ç©ºè®°å½•</button>
  </view>

  <view wx:if="{{records.length === 0}}" class="empty">
    <text style="font-size: 80rpx; margin-bottom: 20rpx;">ğŸƒ</text>
    <text class="empty-title">æš‚æ— å†å²è®°å½•</text>
    <text class="empty-sub">å®Œæˆä¸€æ¬¡è¯Šæ–­åï¼Œç»“æœä¼šè‡ªåŠ¨ä¿å­˜åœ¨è¿™é‡Œã€‚</text>
  </view>

  <scroll-view wx:if="{{records.length > 0}}" scroll-y="true" class="list">
    <block wx:for="{{records}}" wx:key="id">
      <view class="card">
        
        <view class="card-header">
          <view class="card-header-left">
            <text class="crop">{{item.displayCrop}}</text>
            <text class="time">{{item.time}}</text>
          </view>
          
          <view wx:if="{{item.mainSeverityLabel}}" 
                class="tag {{item.mainSeverityClass}}">
            {{item.mainSeverityLabel}}
          </view>
        </view>

        <view class="card-body">
          <text class="summary-label">è¯Šæ–­ç»“è®ºï¼š</text>
          <text class="summary-text" user-select="true">{{item.summary}}</text>
        </view>

        <view wx:if="{{item.systemBrief}}" class="card-footer">
          <text class="footer-icon">ğŸ“Š</text>
          <text class="footer-text">{{item.systemBrief}}</text>
        </view>

      </view>
    </block>
    <view style="height: 40rpx;"></view>
  </scroll-view>
</view>